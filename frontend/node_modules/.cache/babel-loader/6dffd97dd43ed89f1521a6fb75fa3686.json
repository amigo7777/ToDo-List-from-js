{"remainingRequest":"C:\\D-drive-68500\\js\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\D-drive-68500\\js\\frontend\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\D-drive-68500\\js\\frontend\\src\\netClient\\authService.js","dependencies":[{"path":"C:\\D-drive-68500\\js\\frontend\\src\\netClient\\authService.js","mtime":1639591840579},{"path":"C:\\D-drive-68500\\js\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\D-drive-68500\\js\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\D-drive-68500\\js\\frontend\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L0QtZHJpdmUtNjg1MDAvanMvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBodHRwIGZyb20gIkAvbmV0Q2xpZW50L2NvbmZpZyI7CmV4cG9ydCBmdW5jdGlvbiBkb1JlZ2lzdGVyKF94LCBfeDIsIF94MykgewogIHJldHVybiBfZG9SZWdpc3Rlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfZG9SZWdpc3RlcigpIHsKICBfZG9SZWdpc3RlciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShsb2dpbiwgcGFzc3dvcmQsIGVtYWlsKSB7CiAgICB2YXIgcmVzcG9uc2U7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIGh0dHAucG9zdCgnL2F1dGgvcmVnaXN0cmF0aW9uJywgewogICAgICAgICAgICAgIGxvZ2luOiBsb2dpbiwKICAgICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQsCiAgICAgICAgICAgICAgZW1haWw6IGVtYWlsCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCByZXNwb25zZS5kYXRhKTsKCiAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA3OwogICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICBjb25zb2xlLmVycm9yKHsKICAgICAgICAgICAgICBlcnJvcjogX2NvbnRleHQudDAKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRocm93IF9jb250ZXh0LnQwOwoKICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSwgbnVsbCwgW1swLCA3XV0pOwogIH0pKTsKICByZXR1cm4gX2RvUmVnaXN0ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGRvTG9naW4oX3g0LCBfeDUpIHsKICByZXR1cm4gX2RvTG9naW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX2RvTG9naW4oKSB7CiAgX2RvTG9naW4gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKGxvZ2luLCBwYXNzd29yZCkgewogICAgdmFyIHJlc3BvbnNlLCBhY2Nlc3NUb2tlbjsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMDsKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICByZXR1cm4gaHR0cC5wb3N0KCcvYXV0aC9sb2dpbicsIHsKICAgICAgICAgICAgICBsb2dpbjogbG9naW4sCiAgICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgYWNjZXNzVG9rZW4gPSByZXNwb25zZS5kYXRhLmFjY2Vzc1Rva2VuOwogICAgICAgICAgICBsb2NhbFN0b3JhZ2UuYWNjZXNzVG9rZW4gPSBhY2Nlc3NUb2tlbjsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIGFjY2Vzc1Rva2VuKTsKCiAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gOTsKICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDApOwogICAgICAgICAgICBjb25zb2xlLmVycm9yKHsKICAgICAgICAgICAgICBlcnJvcjogX2NvbnRleHQyLnQwCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aHJvdyBfY29udGV4dDIudDA7CgogICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMCwgOV1dKTsKICB9KSk7CiAgcmV0dXJuIF9kb0xvZ2luLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBkb0xvZ291dCgpIHsKICByZXR1cm4gX2RvTG9nb3V0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9kb0xvZ291dCgpIHsKICBfZG9Mb2dvdXQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgdmFyIHJlc3BvbnNlOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAwOwogICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7CiAgICAgICAgICAgIHJldHVybiBodHRwLnBvc3QoJy91c2VyL2xvZ291dCcsIHt9LCB7CiAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICJhcHBsbGljYXRpb24vanNvbiIsCiAgICAgICAgICAgICAgICAneC1hY2Nlc3MtdG9rZW4nOiBsb2NhbFN0b3JhZ2UuYWNjZXNzVG9rZW4KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2FjY2Vzc1Rva2VuJyk7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCByZXNwb25zZS5kYXRhKTsKCiAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gODsKICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzWyJjYXRjaCJdKDApOwogICAgICAgICAgICBjb25zb2xlLmVycm9yKHsKICAgICAgICAgICAgICBlcnJvcjogX2NvbnRleHQzLnQwCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aHJvdyBfY29udGV4dDMudDA7CgogICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTMsIG51bGwsIFtbMCwgOF1dKTsKICB9KSk7CiAgcmV0dXJuIF9kb0xvZ291dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9"},{"version":3,"sources":["C:/D-drive-68500/js/frontend/src/netClient/authService.js"],"names":["http","doRegister","login","password","email","post","response","data","console","error","doLogin","accessToken","localStorage","doLogout","headers","removeItem"],"mappings":";;AAAA,OAAOA,IAAP,MAAiB,oBAAjB;AAEA,gBAAsBC,UAAtB;AAAA;AAAA;;;wEAAO,iBAA0BC,KAA1B,EAAiCC,QAAjC,EAA2CC,KAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEuBJ,IAAI,CAACK,IAAL,CAAU,oBAAV,EAAgC;AAAEH,cAAAA,KAAK,EAALA,KAAF;AAASC,cAAAA,QAAQ,EAARA,QAAT;AAAmBC,cAAAA,KAAK,EAALA;AAAnB,aAAhC,CAFvB;;AAAA;AAEME,YAAAA,QAFN;AAAA,6CAGQA,QAAQ,CAACC,IAHjB;;AAAA;AAAA;AAAA;AAKCC,YAAAA,OAAO,CAACC,KAAR,CAAc;AAACA,cAAAA,KAAK;AAAN,aAAd;AALD;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAUP,gBAAsBC,OAAtB;AAAA;AAAA;;;qEAAO,kBAAuBR,KAAvB,EAA8BC,QAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEuBH,IAAI,CAACK,IAAL,CAAU,aAAV,EAAyB;AAC3CH,cAAAA,KAAK,EAALA,KAD2C;AAE3CC,cAAAA,QAAQ,EAARA;AAF2C,aAAzB,CAFvB;;AAAA;AAEMG,YAAAA,QAFN;AAMQK,YAAAA,WANR,GAMuBL,QAAQ,CAACC,IANhC,CAMQI,WANR;AAOCC,YAAAA,YAAY,CAACD,WAAb,GAA2BA,WAA3B;AAPD,8CAQQA,WARR;;AAAA;AAAA;AAAA;AAUCH,YAAAA,OAAO,CAACC,KAAR,CAAc;AAACA,cAAAA,KAAK;AAAN,aAAd;AAVD;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAeP,gBAAsBI,QAAtB;AAAA;AAAA;;;sEAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEuBb,IAAI,CAACK,IAAL,CAAU,cAAV,EAA0B,EAA1B,EACvB;AACIS,cAAAA,OAAO,EAAE;AACL,gCAAgB,mBADX;AAEL,kCAAmBF,YAAY,CAACD;AAF3B;AADb,aADuB,CAFvB;;AAAA;AAEML,YAAAA,QAFN;AASCM,YAAAA,YAAY,CAACG,UAAb,CAAwB,aAAxB;AATD,8CAUQT,QAAQ,CAACC,IAVjB;;AAAA;AAAA;AAAA;AAYCC,YAAAA,OAAO,CAACC,KAAR,CAAc;AAACA,cAAAA,KAAK;AAAN,aAAd;AAZD;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import http from \"@/netClient/config\";\r\n\r\nexport async function doRegister(login, password, email){\r\n    try{\r\n       const response = await http.post('/auth/registration', { login, password, email });\r\n        return response.data;\r\n    }catch(error){\r\n        console.error({error})\r\n        throw error;\r\n    }\r\n}\r\n\r\nexport async function doLogin(login, password){\r\n    try{\r\n       const response = await http.post('/auth/login', {\r\n            login,\r\n            password,\r\n        });\r\n        const {accessToken} = response.data;\r\n        localStorage.accessToken = accessToken;\r\n        return accessToken;\r\n    }catch(error){\r\n        console.error({error})\r\n        throw error;\r\n    }\r\n}\r\n\r\nexport async function doLogout(){\r\n    try{\r\n       const response = await http.post('/user/logout', {},\r\n       {\r\n           headers: {\r\n               'Content-Type': \"appllication/json\",\r\n               'x-access-token' : localStorage.accessToken,\r\n           }\r\n       });\r\n        localStorage.removeItem('accessToken');\r\n        return response.data;\r\n    }catch(error){\r\n        console.error({error})\r\n        throw error;\r\n    }\r\n}"]}]}